<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="shortcut icon"
      href="assets/images/favicon.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <title>tutor website</title>
  </head>
  <body>
    <main>
      <section>
        <h1>Home páge</h1>
        <p>Bem-vindo à página inicial!</p>
      </section>
    </main>
    <script src="js/layout/layout.js"></script>
    <script type="module">
      import { initMenu } from "./js/mobile/menuEvents.js"
      import { initTheme } from "./js/theme/theme.init.js"

      window.onload = () => {
        initTheme()
        initMenu() // agora vai abrir o menu corretamente se estava aberto antes
      }
    </script>
    <script>
      const darkMode = localStorage.getItem("darkMode")
      const isDark =
        darkMode === "true" ||
        (darkMode === null &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)

      document.documentElement.setAttribute(
        "data-theme",
        isDark ? "dark" : "light"
      )

      // Atualiza ícones já na primeira renderização
      document.addEventListener("DOMContentLoaded", () => {
        document
          .querySelectorAll(".icon-moon")
          .forEach((el) => el.classList.toggle("hidden", isDark))
        document
          .querySelectorAll(".icon-sun")
          .forEach((el) => el.classList.toggle("hidden", !isDark))
      })
    </script>
  </body>
</html>
